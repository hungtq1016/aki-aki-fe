import{d as T,a as $,b as _,Y as R,p as fe,e as W,g as re,h as ae,F as U,f as me,w as ge,n as j,i as be,o as y,c as Z,v as w,m as s,u as g,B as x,y as k,J as ue,l as O,t as H,C as E,D as he,G as ye,I as xe,ae as X,af as Y,a1 as de,V as F,X as we,z as _e,ag as Oe,ah as ne,ai as pe,a2 as Se,x as ke,A as Le,r as oe,ab as Ce,aj as Pe,ak as Q,al as J}from"./index-CDcGWq3o.js";import{d as $e,e as Re,r as Te}from"./CheckIcon-Dt0lcNLC.js";import{u as z,o as C,t as De,i as K,E as Ne,A as q,T as Be,I as ee,l as Ve,N as le,a as S}from"./keyboard-DN9jbalq.js";import{a as ze}from"./use-outside-click-wYbPFTgq.js";import{s as Ae}from"./use-resolve-button-type-AKCoBa6Z.js";import{p as Ie,a as Me,e as ie,v as je,f as Fe,b as Ee,S as Ue,M as Ze,c as He,g as Ke}from"./vi-BiEBvjQB.js";import{f as qe,c as P,u as Ge}from"./calculate-active-index-C-8HpAuR.js";import{f as Qe,u as Je}from"./hidden-CmDfkVUe.js";import{w as We,h as Xe,O as Ye}from"./focus-management-C9d4nvSx.js";import{b as et,a as tt,r as at}from"./EyeIcon-C_FktKUX.js";import{r as nt}from"./ChevronRightIcon-DFsUGnq6.js";import{r as ot}from"./TrashIcon-Be-lUQj9.js";import{r as lt}from"./ChevronDownIcon-D2jjkGrM.js";var it=(t=>(t[t.ALL=2]="ALL",t[t.ENABLE=1]="ENABLE",t[t.DISABLE=0]="DISABLE",t))(it||{});function st(t,l){return t===l}var rt=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(rt||{}),ut=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(ut||{}),dt=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(dt||{});function pt(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let ce=Symbol("ListboxContext");function G(t){let l=be(ce,null);if(l===null){let a=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,G),a}return l}let ct=T({name:"Listbox",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>st},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:l,attrs:a,emit:i}){let n=$(1),b=$(null),e=$(null),p=$(null),c=$([]),f=$(""),r=$(null),u=$(1);function v(o=d=>d){let d=r.value!==null?c.value[r.value]:null,m=Ye(o(c.value.slice()),L=>C(L.dataRef.domRef)),h=d?m.indexOf(d):null;return h===-1&&(h=null),{options:m,activeOptionIndex:h}}let N=_(()=>t.multiple?1:0),[B,D]=$e(_(()=>t.modelValue),o=>i("update:modelValue",o),_(()=>t.defaultValue)),A=_(()=>B.value===void 0?z(N.value,{1:[],0:void 0}):B.value),V={listboxState:n,value:A,mode:N,compare(o,d){if(typeof t.by=="string"){let m=t.by;return(o==null?void 0:o[m])===(d==null?void 0:d[m])}return t.by(o,d)},orientation:_(()=>t.horizontal?"horizontal":"vertical"),labelRef:b,buttonRef:e,optionsRef:p,disabled:_(()=>t.disabled),options:c,searchQuery:f,activeOptionIndex:r,activationTrigger:u,closeListbox(){t.disabled||n.value!==1&&(n.value=1,r.value=null)},openListbox(){t.disabled||n.value!==0&&(n.value=0)},goToOption(o,d,m){if(t.disabled||n.value===1)return;let h=v(),L=qe(o===P.Specific?{focus:P.Specific,id:d}:{focus:o},{resolveItems:()=>h.options,resolveActiveIndex:()=>h.activeOptionIndex,resolveId:M=>M.id,resolveDisabled:M=>M.dataRef.disabled});f.value="",r.value=L,u.value=m??1,c.value=h.options},search(o){if(t.disabled||n.value===1)return;let d=f.value!==""?0:1;f.value+=o.toLowerCase();let m=(r.value!==null?c.value.slice(r.value+d).concat(c.value.slice(0,r.value+d)):c.value).find(L=>L.dataRef.textValue.startsWith(f.value)&&!L.dataRef.disabled),h=m?c.value.indexOf(m):-1;h===-1||h===r.value||(r.value=h,u.value=1)},clearSearch(){t.disabled||n.value!==1&&f.value!==""&&(f.value="")},registerOption(o,d){let m=v(h=>[...h,{id:o,dataRef:d}]);c.value=m.options,r.value=m.activeOptionIndex},unregisterOption(o){let d=v(m=>{let h=m.findIndex(L=>L.id===o);return h!==-1&&m.splice(h,1),m});c.value=d.options,r.value=d.activeOptionIndex,u.value=1},theirOnChange(o){t.disabled||D(o)},select(o){t.disabled||D(z(N.value,{0:()=>o,1:()=>{let d=R(V.value.value).slice(),m=R(o),h=d.findIndex(L=>V.compare(m,R(L)));return h===-1?d.push(m):d.splice(h,1),d}}))}};ze([e,p],(o,d)=>{var m;V.closeListbox(),We(d,Xe.Loose)||(o.preventDefault(),(m=C(e))==null||m.focus())},_(()=>n.value===0)),fe(ce,V),De(_(()=>z(n.value,{0:K.Open,1:K.Closed})));let I=_(()=>{var o;return(o=C(e))==null?void 0:o.closest("form")});return W(()=>{re([I],()=>{if(!I.value||t.defaultValue===void 0)return;function o(){V.theirOnChange(t.defaultValue)}return I.value.addEventListener("reset",o),()=>{var d;(d=I.value)==null||d.removeEventListener("reset",o)}},{immediate:!0})}),()=>{let{name:o,modelValue:d,disabled:m,form:h,...L}=t,M={open:n.value===0,disabled:m,value:A.value};return ae(U,[...o!=null&&A.value!=null?Re({[o]:A.value}).map(([te,ve])=>ae(Qe,Ne({features:Je.Hidden,key:te,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:h,disabled:m,name:te,value:ve}))):[],q({ourProps:{},theirProps:{...a,...Be(L,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:M,slots:l,attrs:a,name:"Listbox"})])}}}),vt=T({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(t,{attrs:l,slots:a,expose:i}){var n;let b=(n=t.id)!=null?n:`headlessui-listbox-button-${ee()}`,e=G("ListboxButton");i({el:e.buttonRef,$el:e.buttonRef});function p(u){switch(u.key){case S.Space:case S.Enter:case S.ArrowDown:u.preventDefault(),e.openListbox(),j(()=>{var v;(v=C(e.optionsRef))==null||v.focus({preventScroll:!0}),e.value.value||e.goToOption(P.First)});break;case S.ArrowUp:u.preventDefault(),e.openListbox(),j(()=>{var v;(v=C(e.optionsRef))==null||v.focus({preventScroll:!0}),e.value.value||e.goToOption(P.Last)});break}}function c(u){switch(u.key){case S.Space:u.preventDefault();break}}function f(u){e.disabled.value||(e.listboxState.value===0?(e.closeListbox(),j(()=>{var v;return(v=C(e.buttonRef))==null?void 0:v.focus({preventScroll:!0})})):(u.preventDefault(),e.openListbox(),pt(()=>{var v;return(v=C(e.optionsRef))==null?void 0:v.focus({preventScroll:!0})})))}let r=Ae(_(()=>({as:t.as,type:l.type})),e.buttonRef);return()=>{var u,v;let N={open:e.listboxState.value===0,disabled:e.disabled.value,value:e.value.value},{...B}=t,D={ref:e.buttonRef,id:b,type:r.value,"aria-haspopup":"listbox","aria-controls":(u=C(e.optionsRef))==null?void 0:u.id,"aria-expanded":e.listboxState.value===0,"aria-labelledby":e.labelRef.value?[(v=C(e.labelRef))==null?void 0:v.id,b].join(" "):void 0,disabled:e.disabled.value===!0?!0:void 0,onKeydown:p,onKeyup:c,onClick:f};return q({ourProps:D,theirProps:B,slot:N,attrs:l,slots:a,name:"ListboxButton"})}}}),ft=T({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(t,{attrs:l,slots:a,expose:i}){var n;let b=(n=t.id)!=null?n:`headlessui-listbox-options-${ee()}`,e=G("ListboxOptions"),p=$(null);i({el:e.optionsRef,$el:e.optionsRef});function c(u){switch(p.value&&clearTimeout(p.value),u.key){case S.Space:if(e.searchQuery.value!=="")return u.preventDefault(),u.stopPropagation(),e.search(u.key);case S.Enter:if(u.preventDefault(),u.stopPropagation(),e.activeOptionIndex.value!==null){let v=e.options.value[e.activeOptionIndex.value];e.select(v.dataRef.value)}e.mode.value===0&&(e.closeListbox(),j(()=>{var v;return(v=C(e.buttonRef))==null?void 0:v.focus({preventScroll:!0})}));break;case z(e.orientation.value,{vertical:S.ArrowDown,horizontal:S.ArrowRight}):return u.preventDefault(),u.stopPropagation(),e.goToOption(P.Next);case z(e.orientation.value,{vertical:S.ArrowUp,horizontal:S.ArrowLeft}):return u.preventDefault(),u.stopPropagation(),e.goToOption(P.Previous);case S.Home:case S.PageUp:return u.preventDefault(),u.stopPropagation(),e.goToOption(P.First);case S.End:case S.PageDown:return u.preventDefault(),u.stopPropagation(),e.goToOption(P.Last);case S.Escape:u.preventDefault(),u.stopPropagation(),e.closeListbox(),j(()=>{var v;return(v=C(e.buttonRef))==null?void 0:v.focus({preventScroll:!0})});break;case S.Tab:u.preventDefault(),u.stopPropagation();break;default:u.key.length===1&&(e.search(u.key),p.value=setTimeout(()=>e.clearSearch(),350));break}}let f=Ve(),r=_(()=>f!==null?(f.value&K.Open)===K.Open:e.listboxState.value===0);return()=>{var u,v;let N={open:e.listboxState.value===0},{...B}=t,D={"aria-activedescendant":e.activeOptionIndex.value===null||(u=e.options.value[e.activeOptionIndex.value])==null?void 0:u.id,"aria-multiselectable":e.mode.value===1?!0:void 0,"aria-labelledby":(v=C(e.buttonRef))==null?void 0:v.id,"aria-orientation":e.orientation.value,id:b,onKeydown:c,role:"listbox",tabIndex:0,ref:e.optionsRef};return q({ourProps:D,theirProps:B,slot:N,attrs:l,slots:a,features:le.RenderStrategy|le.Static,visible:r.value,name:"ListboxOptions"})}}}),mt=T({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(t,{slots:l,attrs:a,expose:i}){var n;let b=(n=t.id)!=null?n:`headlessui-listbox-option-${ee()}`,e=G("ListboxOption"),p=$(null);i({el:p,$el:p});let c=_(()=>e.activeOptionIndex.value!==null?e.options.value[e.activeOptionIndex.value].id===b:!1),f=_(()=>z(e.mode.value,{0:()=>e.compare(R(e.value.value),R(t.value)),1:()=>R(e.value.value).some(o=>e.compare(R(o),R(t.value)))})),r=_(()=>z(e.mode.value,{1:()=>{var o;let d=R(e.value.value);return((o=e.options.value.find(m=>d.some(h=>e.compare(R(h),R(m.dataRef.value)))))==null?void 0:o.id)===b},0:()=>f.value})),u=Ie(p),v=_(()=>({disabled:t.disabled,value:t.value,get textValue(){return u()},domRef:p}));W(()=>e.registerOption(b,v)),me(()=>e.unregisterOption(b)),W(()=>{re([e.listboxState,f],()=>{e.listboxState.value===0&&f.value&&z(e.mode.value,{1:()=>{r.value&&e.goToOption(P.Specific,b)},0:()=>{e.goToOption(P.Specific,b)}})},{immediate:!0})}),ge(()=>{e.listboxState.value===0&&c.value&&e.activationTrigger.value!==0&&j(()=>{var o,d;return(d=(o=C(p))==null?void 0:o.scrollIntoView)==null?void 0:d.call(o,{block:"nearest"})})});function N(o){if(t.disabled)return o.preventDefault();e.select(t.value),e.mode.value===0&&(e.closeListbox(),j(()=>{var d;return(d=C(e.buttonRef))==null?void 0:d.focus({preventScroll:!0})}))}function B(){if(t.disabled)return e.goToOption(P.Nothing);e.goToOption(P.Specific,b)}let D=Ge();function A(o){D.update(o)}function V(o){D.wasMoved(o)&&(t.disabled||c.value||e.goToOption(P.Specific,b,0))}function I(o){D.wasMoved(o)&&(t.disabled||c.value&&e.goToOption(P.Nothing))}return()=>{let{disabled:o}=t,d={active:c.value,selected:f.value,disabled:o},{value:m,disabled:h,...L}=t,M={id:b,ref:p,role:"option",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-selected":f.value,disabled:void 0,onClick:N,onFocus:B,onPointerenter:A,onMouseenter:A,onPointermove:V,onMousemove:V,onPointerleave:I,onMouseleave:I};return q({ourProps:M,theirProps:L,slot:d,attrs:a,slots:l,name:"ListboxOption"})}}});const gt={class:"relative mt-2"},bt={class:"flex items-center"},ht={class:"pointer-events-none absolute inset-y-0 right-0 ml-3 flex items-center pr-2"},yt={class:"flex items-center"},xt=T({__name:"Table.header",props:{options:{},value:{}},emits:["update:modelValue"],setup(t,{emit:l}){const i=$(t.value),n=p=>i.value.includes(p),b=_(()=>i.value.length),e=l;return(p,c)=>(y(),Z(x(ct),{as:"div",modelValue:i.value,"onUpdate:modelValue":[c[0]||(c[0]=f=>i.value=f),c[1]||(c[1]=f=>e("update:modelValue",f))],multiple:""},{default:w(()=>[s("div",gt,[g(x(vt),{class:"relative cursor-default rounded-md bg-white py-1.5 pl-3 pr-10 text-left text-gray-900 shadow-sm ring-1 ring-inset ring-alabaster-500 focus:outline-none focus:ring-2 focus:ring-cerulean-500 sm:text-sm sm:leading-6"},{default:w(()=>[s("span",bt,k(b.value?p.$t("table.selected",{count:b.value}):p.$t("table.select_header")),1),s("span",ht,[g(x(et),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1}),g(ue,{"leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:w(()=>[g(x(ft),{class:"absolute z-[10] mt-1 max-h-56 overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-slate-950 ring-opacity-5 focus:outline-none sm:text-sm"},{default:w(()=>[(y(!0),O(U,null,H(p.options,f=>(y(),Z(x(mt),{as:"template",key:f.value,value:f},{default:w(({active:r})=>[s("li",{class:E([r?"bg-cerulean-600 text-white":"text-gray-900","relative cursor-default select-none py-2 pl-3 pr-9"])},[s("div",yt,[s("span",{class:E([n(f)?"font-semibold":"font-normal","ml-3 block truncate"])},k(p.$t(f.text)),3)]),n(f)?(y(),O("span",{key:0,class:E([r?"text-white":"text-cerulean-600","absolute inset-y-0 right-0 flex items-center pr-4"])},[g(x(Te),{class:"h-5 w-5","aria-hidden":"true"})],2)):he("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"]))}});function wt(t,l){return y(),O("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"fill-rule":"evenodd",d:"M10.72 11.47a.75.75 0 0 0 0 1.06l7.5 7.5a.75.75 0 1 0 1.06-1.06L12.31 12l6.97-6.97a.75.75 0 0 0-1.06-1.06l-7.5 7.5Z","clip-rule":"evenodd"}),s("path",{"fill-rule":"evenodd",d:"M4.72 11.47a.75.75 0 0 0 0 1.06l7.5 7.5a.75.75 0 1 0 1.06-1.06L6.31 12l6.97-6.97a.75.75 0 0 0-1.06-1.06l-7.5 7.5Z","clip-rule":"evenodd"})])}function _t(t,l){return y(),O("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"fill-rule":"evenodd",d:"M13.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L11.69 12 4.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z","clip-rule":"evenodd"}),s("path",{"fill-rule":"evenodd",d:"M19.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06L17.69 12l-6.97-6.97a.75.75 0 0 1 1.06-1.06l7.5 7.5Z","clip-rule":"evenodd"})])}function Ot(t,l){return y(),O("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"fill-rule":"evenodd",d:"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z","clip-rule":"evenodd"})])}function St(t,l){return y(),O("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z","clip-rule":"evenodd"})])}const kt={class:"flex items-center justify-between border-t border-black-haze-500 bg-white py-3"},Lt=s("div",{class:"flex flex-1 justify-between sm:hidden"},[s("a",{href:"#",class:"relative inline-flex items-center rounded-md border border-alabaster-500 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},"Previous"),s("a",{href:"#",class:"relative ml-3 inline-flex items-center rounded-md border border-alabaster-500 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},"Next")],-1),Ct={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},Pt={class:"flex items-center gap-x-1"},$t={class:"text-sm text-gray-700"},Rt=["value"],Tt={class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},Dt=["disabled"],Nt=s("span",{class:"sr-only"},"First",-1),Bt=["disabled"],Vt=s("span",{class:"sr-only"},"Previous",-1),zt=["disabled","onClick"],At=["disabled"],It=s("span",{class:"sr-only"},"Next",-1),Mt=["disabled"],jt=s("span",{class:"sr-only"},"First",-1),Ft=T({__name:"Table.footer",props:{pagination:{},paginationOptions:{}},setup(t){const l=[5,10,25,50,100];return(a,i)=>(y(),O("div",kt,[Lt,s("div",Ct,[s("div",Pt,[s("p",$t,k(a.$t("table.show",{from:a.pagination.pageSize*(a.pagination.pageNumber-1)+1,to:Math.min(a.pagination.pageSize*a.pagination.pageNumber,a.pagination.totalRecords),total:a.pagination.totalRecords})),1),ye(s("select",{"onUpdate:modelValue":i[0]||(i[0]=n=>a.pagination.pageSize=n),onChange:i[1]||(i[1]=()=>{a.paginationOptions.pageSize=a.pagination.pageSize}),class:"inline-flex justify-center gap-x-1.5 rounded-md bg-white py-1 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-alabaster-500 hover:bg-gray-50"},[(y(),O(U,null,H(l,n=>s("option",{value:n,key:n},k(n),9,Rt)),64))],544),[[xe,a.pagination.pageSize]])]),s("div",null,[s("nav",Tt,[s("button",{type:"button",disabled:a.pagination.firstPage===a.pagination.pageNumber,onClick:i[2]||(i[2]=()=>{a.paginationOptions.pageNumber=a.pagination.firstPage}),class:"disabled:bg-gray-50 relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-alabaster-500 hover:bg-gray-50 focus:z-[1] focus:outline-offset-0"},[Nt,g(x(wt),{class:"h-5 w-5","aria-hidden":"true"})],8,Dt),s("button",{type:"button",disabled:a.pagination.previousPage===a.pagination.pageNumber,onClick:i[3]||(i[3]=()=>{a.paginationOptions.pageNumber=a.pagination.previousPage}),class:"disabled:bg-gray-50 relative inline-flex items-center px-2 py-2 text-gray-400 ring-1 ring-inset ring-alabaster-500 hover:bg-gray-50 focus:z-[1] focus:outline-offset-0"},[Vt,g(x(Ot),{class:"h-5 w-5","aria-hidden":"true"})],8,Bt),(y(!0),O(U,null,H(a.pagination.totalPages,n=>(y(),O("button",{key:n,disabled:n===a.pagination.pageNumber,onClick:()=>{a.paginationOptions.pageNumber=n},class:"disabled:bg-gray-50 relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-alabaster-500 hover:bg-gray-50 focus:z-[1] focus:outline-offset-0"},k(n),9,zt))),128)),s("button",{type:"button",disabled:a.pagination.nextPage===a.pagination.pageNumber,onClick:i[4]||(i[4]=()=>{a.paginationOptions.pageNumber=a.pagination.nextPage}),class:"disabled:bg-gray-50 relative inline-flex items-center px-2 py-2 text-gray-400 ring-1 ring-inset ring-alabaster-500 hover:bg-gray-50 focus:z-[1] focus:outline-offset-0"},[It,g(x(nt),{class:"h-5 w-5","aria-hidden":"true"})],8,At),s("button",{type:"button",disabled:a.pagination.lastPage===a.pagination.pageNumber,onClick:i[5]||(i[5]=()=>{a.paginationOptions.pageNumber=a.pagination.lastPage}),class:"disabled:bg-gray-50 relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-alabaster-500 hover:bg-gray-50 focus:z-[1] focus:outline-offset-0"},[jt,g(x(_t),{class:"h-5 w-5","aria-hidden":"true"})],8,Mt)])])])]))}}),Et=T({__name:"Table.active",props:{item:{},fetch:{type:Function},route:{}},setup(t){const l=t,a=async()=>{l.item.enable=!l.item.enable;const i=await X(`${Y("api."+l.route)}/${l.item.id}`,l.item);(i==null?void 0:i.isError)==!1&&(await l.fetch(),de(F.global.t("message.update_success")))};return(i,n)=>i.item.enable?(y(),O("button",{key:0,onClick:a,class:"inline-flex items-center rounded-md bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20 whitespace-nowrap"},k(i.$t("content.active")),1)):(y(),O("button",{key:1,onClick:a,class:"inline-flex items-center rounded-md bg-red-50 px-2 py-1 text-xs font-medium text-red-700 ring-1 ring-inset ring-red-600/20 whitespace-nowrap"},k(i.$t("content.inactive")),1))}}),Ut={class:"group"},Zt={class:"group-hover:hidden whitespace-nowrap"},Ht={class:"hidden group-hover:block whitespace-nowrap"},se=T({__name:"Table.datatime",props:{date:{}},setup(t){const l=t,a=_(()=>{const n=new Date(l.date);return Me(n,7)}),i=_(()=>{switch(String(F.global.locale.value)){case"vi-VN":return je;case"en-US":return ie;default:return ie}});return(n,b)=>(y(),O("div",Ut,[s("div",Zt,k(x(Fe)(new Date(a.value),new Date,{addSuffix:!0,locale:i.value})),1),s("div",Ht,k(x(Ee)(new Date(a.value),"Pp",{locale:i.value})),1)]))}});function Kt(t,l){return y(),O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})])}function qt(t,l){return y(),O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}const Gt={class:"flex gap-x-1 divide-x-2"},Qt=T({__name:"Table.action",props:{id:{},fetch:{type:Function},route:{}},setup(t){const l=we(),a=_e(),i=t,n=async()=>{const p=async()=>{const c=await pe(`/${Y(i.route)}/${i.id}`);c!=null&&c.isError?Se(F.global.t("error.server_error.message",{name:ne(i.route)})):await i.fetch()};Oe(F.global.t("message.delete_success",{name:ne(i.route)}),p)},b=()=>{navigator.clipboard.writeText(i.id),de(F.global.t("message.copy_success",{name:"Id"}))},e=()=>{l.push(`${a.fullPath}/${i.id}`)};return(p,c)=>(y(),O("div",Gt,[s("button",{type:"button",onClick:n,class:"!text-red-600"},[g(x(ot),{class:"h-5 w-5 !text-red-600"})]),s("button",{class:"pl-1",onClick:b},[g(x(Kt),{class:"h-5 w-5"})]),s("button",{type:"button",onClick:e,class:"pl-1"},[g(x(qt),{class:"h-5 w-5"})])]))}}),Jt={class:"py-1"},Wt=["onClick"],Xt={class:"whitespace-nowrap"},Yt=T({__name:"Table.selected-item",props:{total:{},items:{},route:{},fetch:{type:Function}},setup(t){const l=t,a=Y("api."+l.route),i=[{text:"table.disable_all",action:async()=>{l.items.map(n=>n.enable=!1),await X(a,l.items),await l.fetch()},icon:tt,class:"text-amber-600"},{text:"table.delete_all",action:async()=>{await pe(a,l.items),await l.fetch()},icon:St,class:"text-red-600"},{text:"table.enable_all",action:async()=>{l.items.map(n=>n.enable=!0),await X(a,l.items),await l.fetch()},icon:at,class:"text-green-600"}];return(n,b)=>(y(),Z(x(Ke),{as:"div",class:"relative inline-block text-left mt-2"},{default:w(()=>[g(x(Ue),{disabled:n.total===0,class:"inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm text-gray-900 shadow-sm ring-1 ring-inset ring-alabaster-500 hover:enabled:bg-gray-50 disabled:bg-gray-100 disabled:ring-0 disabled:text-gray-600"},{default:w(()=>[ke(k(n.total?n.$t("table.select_rows",{count:n.total}):n.$t("table.select_action"))+" ",1),g(x(lt),{class:"-mr-1 h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1},8,["disabled"]),g(ue,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:w(()=>[g(x(Ze),{class:"absolute right-0 z-[10] mt-2 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-slate-950 ring-opacity-5 focus:outline-none"},{default:w(()=>[s("div",Jt,[(y(),O(U,null,H(i,e=>g(x(He),{key:e.text},{default:w(({active:p})=>[s("button",{onClick:e.action,class:E([p?"bg-gray-100 text-gray-900":"text-gray-700","group flex items-center px-4 py-2 text-sm w-full"])},[(y(),Z(Le(e.icon),{class:E(["mr-3 h-5 w-5 group-hover:text-gray-500",[e.class]]),"aria-hidden":"true"},null,8,["class"])),s("span",Xt,k(n.$t(e.text)),1)],10,Wt)]),_:2},1024)),64))])]),_:1})]),_:1})]),_:1}))}}),ea=t=>{if(-1e3<t&&t<1e3)return t+" B";const l="kMGTPE";let a=0;for(;t<=-999950||t>=999950;)t/=1e3,a++;return`${(t/1e3).toFixed(1)} ${l[a]}B`},ta={class:"bg-white dark:bg-transparent p-2 border border-gray-200 dark:border-black-700"},aa={class:"pb-2 flex gap-x-2"},na={class:"truncate max-w-28"},oa={class:"line-clamp-1 w-40 hover:line-clamp-2"},la={class:"line-clamp-1 w-40 hover:line-clamp-2"},ia={class:"line-clamp-1 w-40 hover:line-clamp-2"},sa={class:"whitespace-nowrap"},wa=T({__name:"TableView",props:{headers:{},items:{},pagination:{},paginationOptions:{},route:{},fetch:{type:Function},expandComponent:{}},setup(t){const l=t,a=$([]),i=_(()=>n.value.map(e=>({...e,text:F.global.t(e.text)}))),n=$([...l.headers]),b=_(()=>a.value.length);return(e,p)=>{const c=oe("expandComponent"),f=oe("EasyDataTable");return y(),O("div",ta,[s("div",aa,[g(xt,{value:n.value,options:e.headers,"onUpdate:modelValue":p[0]||(p[0]=r=>n.value=r)},null,8,["value","options"]),g(Yt,Ce({total:b.value,items:a.value,route:e.route,fetch:e.fetch},{}),null,16,["total","items","route","fetch"])]),g(f,{"items-selected":a.value,"onUpdate:itemsSelected":p[1]||(p[1]=r=>a.value=r),headers:i.value,items:e.items,"hide-footer":!0,"no-hover":""},Pe({"item-id":w(({id:r})=>[s("p",na,k(r),1)]),"item-title":w(({title:r})=>[s("p",oa,k(r),1)]),"item-desc":w(({desc:r})=>[s("p",la,k(r),1)]),"item-name":w(({name:r})=>[s("p",ia,k(r),1)]),"item-enable":w(r=>[g(Et,{item:r,fetch:e.fetch,route:e.route},null,8,["item","fetch","route"])]),"item-size":w(({size:r})=>[s("p",sa,k(x(ea)(Number(r))),1)]),"item-createdAt":w(({createdAt:r})=>[g(se,{date:r},null,8,["date"])]),"item-updatedAt":w(({updatedAt:r})=>[g(se,{date:r},null,8,["date"])]),"item-action":w(({id:r})=>[g(Qt,Q(J({id:r,route:e.route,fetch:e.fetch})),null,16)]),_:2},[e.expandComponent?{name:"expand",fn:w(r=>[g(c,Q(J({item:r,route:e.route})),null,16)]),key:"0"}:void 0]),1032,["items-selected","headers","items"]),g(Ft,Q(J({pagination:e.pagination,paginationOptions:e.paginationOptions})),null,16)])}}});export{it as E,wa as _};
